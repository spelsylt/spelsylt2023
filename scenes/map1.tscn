[gd_scene load_steps=15 format=3 uid="uid://8xbabt0gi1ik"]

[ext_resource type="PackedScene" uid="uid://qpg3khgngnk6" path="res://scenes/entities/finish_line.tscn" id="1_chti6"]
[ext_resource type="PackedScene" uid="uid://cryu8t5a8op6y" path="res://scenes/terrain/terrain.tscn" id="1_oxoix"]
[ext_resource type="PackedScene" uid="uid://bwqaj4o8gdlu6" path="res://scenes/entities/game_mode.tscn" id="1_qvsgy"]
[ext_resource type="PackedScene" uid="uid://ye6r1hyurkjw" path="res://scenes/entities/cars/car_fiat_panda.tscn" id="2_vf8vm"]
[ext_resource type="PackedScene" uid="uid://dyemq52f1fbki" path="res://scenes/entities/pile.tscn" id="3_1gnvd"]
[ext_resource type="PackedScene" uid="uid://d2fmw6unx854g" path="res://scenes/entities/CameraGimbal.tscn" id="3_bv0be"]
[ext_resource type="PackedScene" uid="uid://cfbobaatefx0a" path="res://scenes/ScaleMap.tscn" id="3_fm44u"]
[ext_resource type="Material" uid="uid://3gddppd0iqum" path="res://assets/materials/pavement.tres" id="7_g3pqk"]
[ext_resource type="Material" uid="uid://c3j23c6cwkb83" path="res://assets/materials/road.tres" id="7_k20ir"]
[ext_resource type="PackedScene" uid="uid://gx84viufbxyp" path="res://scenes/entities/cars/AI_fiat_panda.tscn" id="8_kjeox"]
[ext_resource type="PackedScene" uid="uid://dgl3rnlaptvwe" path="res://scenes/entities/road_end_zone.tscn" id="9_v1cpy"]
[ext_resource type="AudioStream" uid="uid://b6720l52u34p4" path="res://assets/sounds/in_game.mp3" id="13_f1ef8"]

[sub_resource type="Curve3D" id="Curve3D_nwk6m"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 32.0531, 0, 52.9079, 0, 0, 0, 0, 0, 0, 52.7886, 0.286968, 30.5632, 0, 0, 0, 0, 0, 0, 65.405, 0.286972, 7.29184, 0.137756, 0.0365753, 0.472824, -0.137756, -0.0365753, -0.472824, 69.4025, -1.85697, -11.5821, 3.51109, 0.413624, 7.51056, -3.51109, -0.413624, -7.51056, 65.6799, -2.57236, -29.0247, 6.15997, -5.03192, 4.55609, -6.15997, 5.03192, -4.55609, 51.3522, 1.57359, -49.1263, 4.04062, -1.11597, 5.68906, -4.04062, 1.11597, -5.68906, 31.8657, 8.7282, -65.2422, 0, 0, 0, 0, 0, 0, 12.6105, 14.154, -92.668, 0, 0, 0, 0, 0, 0, 7.06704, 15.0347, -102.787, 0, 0, 0, 0, 0, 0, 2.51371, 14.1296, -106.946, 0, 0, 0, 0, 0, 0, -10.5675, 11.5708, -116.131, 0, 0, 0, 0, 0, 0, -18.3948, 9.65065, -121.137, 7.04216, -1.94286, 8.95731, -7.04216, 1.94286, -8.95731, -34.0737, 9.29465, -130.795, -0.0699921, -0.476616, 0.385178, 0.0699921, 0.476616, -0.385178, -39.3032, 8.37154, -169.569, 0.731247, 1.62698, 7.31471, -0.731247, -1.62698, -7.31471, -37.5112, 10.5739, -206.777, 0, 0, 0, 0, 0, 0, -25.4239, 15.7686, -233.916),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 16

[sub_resource type="Curve3D" id="Curve3D_7obkk"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -14.2637, 0, 33.5294, 0, 0, 0, 0, 0, 0, -28.8441, 0.366129, 7.7646, 0, 0, 0, 0, 0, 0, -38.5476, 0, -0.124184, 0, 0, 0, 0, 0, 0, -49.5715, 0, -1.888, 0, 0, 0, 0, 0, 0, -62.8001, 0, -0.56514, 0, 0, 0, 0, 0, 0, -75.5878, 0, 1.86011, 0, 0, 0, 0, 0, 0, -79.9973, 0, 7.813, 0, 0, 0, 0, 0, 0, -84.1864, 0, 17.7345, 0, 0, 0, 0, 0, 0, -84.4069, 0, 26.7741, 0, 0, 0, 0, 0, 0, -82.4226, 0, 32.0655, 0, 0, 0, 0, 0, 0, -76.4697, 0, 34.7112, 0, 0, 0, 0, 0, 0, -64.123, 0, 36.2546, 0, 0, 0, 0, 0, 0, -55.3039, 0, 39.3413, 0, 0, 0, 0, 0, 0, -53.54, 0, 46.8375, 0, 0, 0, 0, 0, 0, -57.2882, 0, 53.2313, 0, 0, 0, 0, 0, 0, -62.8001, 0, 58.0819, 0, 0, 0, 0, 0, 0, -70.7373, 0, 64.6962, 0, 0, 0, 0, 0, 0, -78.013, 0, 72.4129, 0, 0, 0, 0, 0, 0, -84.8478, 0, 77.4839, 0, 0, 0, 0, 0, 0, -91.9031, 0, 81.0115, 0, 0, 0, 0, 0, 0, -98.297, 0, 77.9248, 0, 0, 0, 0, 0, 0, -107.116, 0, 66.2395, 0, 0, 0, 0, 0, 0, -119.683, 0, 45.7351, 0, 0, 0, 0, 0, 0, -125.416, 0, 35.1522, 0, 0, 0, 0, 0, 0, -124.975, 0, 24.5693, 0, 0, 0, 0, 0, 0, -113.069, 0, 5.60823, 0, 0, 0, 0, 0, 0, -86.4921, 0, -32.9963, 0, 0, 0, 0, 0, 0, -79.7906, 0, -37.5816, 0, 0, 0, 0, 0, 0, -69.8267, 1.1239, -35.5861, 0, 0, 0, 0, 0, 0, -59.7271, 1.74219, -34.8238, 0, 0, 0, 0, 0, 0, -39.9705, 3.43876, -34.5366, 0, 0, 0, 0, 0, 0, -21.0435, -5.19287, -35.205, 0, 0, 0, 0, 0, 0, -1.03476, -6.64087, -34.0616, 0, 0, 0, 0, 0, 0, 16.1156, -3.29895, -31.5843, 0, 0, 0, 0, 0, 0, 22.9757, 0, -23.962, 0, 0, 0, 0, 0, 0, 27.7397, 0, -14.6246, 0, 0, 0, 0, 0, 0, 31.3603, 0, -2.23819, 0, 0, 0, 0, 0, 0, 32.3662, 0, 6.04226, 0, 0, 0, 0, 0, 0, 33.6732, 0, 16.4982, 0, 0, 0, 0, 0, 0, 34.2473, 0, 23.823, 0, 0, 0, 0, 0, 0, 34.7374, 0, 32.6451, 0, 0, 0, 0, 0, 0, 34.9008, 0, 39.3435, 0, 0, 0, 0, 0, 0, 35.3909, 0, 45.3883, 0, 0, 0, 0, 0, 0, 36.3711, 0, 50.2895, 0, 0, 0, 0, 0, 0, 37.0246, 0, 56.3343),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 45

[node name="map1" type="Node"]

[node name="terrain" parent="." instance=ExtResource("1_oxoix")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -38.1343, 0)

[node name="game_mode" parent="." node_paths=PackedStringArray("_car") instance=ExtResource("1_qvsgy")]
_car = NodePath("../fiatPanda")
_endScene = ExtResource("3_fm44u")

[node name="finish_line" parent="." node_paths=PackedStringArray("_gameMode") instance=ExtResource("1_chti6")]
transform = Transform3D(0.876424, 0, 0.48154, 0, 1, 0, -0.48154, 0, 0.876424, -14.542, -15.6233, 39.945)
_gameMode = NodePath("../game_mode")

[node name="fiatPanda" parent="." node_paths=PackedStringArray("_playerCamera") instance=ExtResource("2_vf8vm")]
transform = Transform3D(-0.658729, 0, 0.75238, 0, 1, 0, -0.75238, 0, -0.658729, -59.4117, -44.7043, 263.196)
_acceleration = 11.0
_playerCamera = NodePath("../CameraGimbal")

[node name="pile" parent="fiatPanda" node_paths=PackedStringArray("_car") instance=ExtResource("3_1gnvd")]
transform = Transform3D(-4.47035e-08, 0, 1, 0, 1, 0, -1, 0, -4.47035e-08, 1.90735e-05, 1.22431, -0.700226)
_car = NodePath("..")
_accelerationToScoreFactor = 0.1
_accelerationLimit = 999999.0

[node name="CameraGimbal" parent="." instance=ExtResource("3_bv0be")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 6.64322, -5.34705, -93.3386)

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.0310759, -0.801283, 0.597478, 0.00432757, 0.597869, 0.801582, -0.999508, -0.0223243, 0.0220469, 30.5905, 4.26063, 0)
light_energy = 2.112

[node name="TrackPath" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -107.941, -37.8262, 212.736)
curve = SubResource("Curve3D_nwk6m")

[node name="PavementLeft" type="CSGPolygon3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.122694, -8.29354, -0.0153595)
use_collision = true
polygon = PackedVector2Array(-0.508174, -0.0041344, -0.504479, 0.191916, 0.660727, 0.227831, 0.632474, 0.00797965)
mode = 2
path_node = NodePath("../TrackPath")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = ExtResource("7_g3pqk")

[node name="PavementRight" type="CSGPolygon3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.122694, -8.29354, -0.0153595)
use_collision = true
polygon = PackedVector2Array(14.571, -0.0235779, 14.5625, 0.253844, 15.9004, 0.244286, 15.8954, -0.00676484)
mode = 2
path_node = NodePath("../TrackPath")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = ExtResource("7_g3pqk")

[node name="Track" type="CSGPolygon3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.122694, -8.29354, -0.0153595)
use_collision = true
collision_mask = 7
polygon = PackedVector2Array(0, 0, 0, 0.1, 15, 0.1, 15, 0)
mode = 2
path_node = NodePath("../TrackPath")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = ExtResource("7_k20ir")

[node name="AICar" parent="." instance=ExtResource("8_kjeox")]
transform = Transform3D(0.999582, 0, 0.0288985, 0, 1, 0, -0.0288985, 0, 0.999582, -12.7997, -15.0786, 36.3417)
_PatrolPath = NodePath("../AICarPathOpposing")

[node name="road_end_zone" parent="." instance=ExtResource("9_v1cpy")]
transform = Transform3D(0.996745, 0, 0.0806165, 0, 1, 0, -0.0806165, 0, 0.996745, 39.3612, -8.12961, 50.9803)

[node name="AICarPathOpposing" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -8.35047, 0)
curve = SubResource("Curve3D_7obkk")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("13_f1ef8")
volume_db = -5.0
autoplay = true
bus = &"Music"
